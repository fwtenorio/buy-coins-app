{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"login-container\"\n};\nconst _hoisted_2 = {\n  class: \"login-form\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"p\", {\n  style: {\n    \"font-size\": \"20px !important\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"b\", null, \"COMPRA DE MOEDAS\")], -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\"\n}, [/*#__PURE__*/_createElementVNode(\"b\", null, \"Email:\")], -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"form-group\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\"\n}, [/*#__PURE__*/_createElementVNode(\"b\", null, \"Password:\")], -1 /* HOISTED */);\nconst _hoisted_9 = {\n  key: 0,\n  class: \"error-alert\"\n};\nconst _hoisted_10 = {\n  style: {\n    \"font-size\": \"12px !important\"\n  }\n};\nconst _hoisted_11 = {\n  key: 1,\n  class: \"create-account-link\"\n};\nconst _hoisted_12 = {\n  style: {\n    \"font-size\": \"14px\",\n    \"padding-top\": \"3px\"\n  }\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"b\", null, \"Criar conta\", -1 /* HOISTED */);\nconst _hoisted_14 = [_hoisted_13];\nconst _hoisted_15 = {\n  key: 2\n};\nconst _hoisted_16 = {\n  style: {\n    \"font-size\": \"14px\",\n    \"padding-top\": \"3px\"\n  }\n};\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"b\", null, \"Logar\", -1 /* HOISTED */);\nconst _hoisted_18 = [_hoisted_17];\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nconst _hoisted_20 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _hoisted_4, _createElementVNode(\"form\", {\n    onSubmit: _cache[6] || (_cache[6] = _withModifiers((...args) => $options.loginOrCreateUser && $options.loginOrCreateUser(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    name: \"email\",\n    required: \"\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.hideError && $options.hideError(...args))\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.password = $event),\n    minlength: \"5\",\n    required: \"\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.hideError && $options.hideError(...args))\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])]), $data.showMessageLabel ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"p\", _hoisted_10, [_createElementVNode(\"b\", null, _toDisplayString($data.messageLabel), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true), $data.showSignUp ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_createElementVNode(\"p\", _hoisted_12, [_createTextVNode(\"Ainda não tem uma conta? \"), _createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.signUp && $options.signUp(...args))\n  }, [..._hoisted_14])])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [_createElementVNode(\"p\", _hoisted_16, [_createTextVNode(\"Já tem sua conta? \"), _createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.signIn && $options.signIn(...args))\n  }, [..._hoisted_18])])])), _hoisted_19, _createElementVNode(\"button\", {\n    type: \"submit\",\n    disabled: $data.isDisabled\n  }, [_createElementVNode(\"b\", null, _toDisplayString($data.buttonLabel), 1 /* TEXT */)], 8 /* PROPS */, _hoisted_20)], 32 /* NEED_HYDRATION */)])]);\n}","map":{"version":3,"names":["class","_createElementVNode","style","for","key","_hoisted_13","_hoisted_17","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onSubmit","_cache","_withModifiers","args","$options","loginOrCreateUser","_hoisted_5","_hoisted_6","type","id","$event","$data","email","name","required","onClick","hideError","_hoisted_7","_hoisted_8","password","minlength","showMessageLabel","_hoisted_9","_hoisted_10","_toDisplayString","messageLabel","_createCommentVNode","showSignUp","_hoisted_11","_hoisted_12","_createTextVNode","href","signUp","_hoisted_14","_hoisted_15","_hoisted_16","signIn","_hoisted_18","_hoisted_19","disabled","isDisabled","buttonLabel","_hoisted_20"],"sources":["/app/src/components/PageLogin.vue"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <div class=\"login-form\">\n      <p style=\"font-size:20px !important\"><b>COMPRA DE MOEDAS</b></p>\n      <br>\n      <form @submit.prevent=\"loginOrCreateUser\">\n        <div class=\"form-group\">\n          <label for=\"email\"><b>Email:</b></label>\n          <input type=\"email\" id=\"email\" v-model=\"email\" name=\"email\" required @click=\"hideError\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"password\"><b>Password:</b></label>\n          <input type=\"password\" id=\"password\" v-model=\"password\" minlength=\"5\" required @click=\"hideError\">\n        </div>\n        <div class=\"error-alert\" v-if=\"showMessageLabel\">\n          <p style=\"font-size:12px !important\"><b>{{ messageLabel }}</b></p>\n        </div>\n        <div class=\"create-account-link\" v-if=\"showSignUp\">\n          <p style=\"font-size: 14px;padding-top: 3px;\">Ainda não tem uma conta? <a href=\"#\" @click=\"signUp\"><b>Criar conta</b></a></p>\n        </div>\n        <div v-else>\n          <p style=\"font-size: 14px;padding-top: 3px;\">Já tem sua conta? <a href=\"#\" @click=\"signIn\"><b>Logar</b></a></p>\n        </div>\n        <br>\n        <button type=\"submit\" :disabled=\"isDisabled\"><b>{{ buttonLabel }}</b></button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      email: '',\n      password: '',\n      showMessageLabel: false,\n      showSignUp: true,\n      buttonLabel: 'Login',\n      messageLabel: '',\n      isLogin: true,\n      isDisabled: false\n    };\n  },\n  methods: {\n    hideError: function() {\n      if (this.showSignUp) {\n        this.showMessageLabel = false; \n      }\n    },\n    signUp() {\n      this.buttonLabel = 'Registrar';\n      this.showSignUp = false;\n      this.isLogin = false;\n    },\n    signIn() {\n      this.buttonLabel = 'Logar';\n      this.showSignUp = true;\n      this.isLogin = true;\n    },\n    async loginOrCreateUser() {\n      try {\n          this.isDisabled = true;\n          let url = '';\n          if (this.isLogin) {\n            url = 'sign-in'\n          } else {\n            url = 'sign-up'\n          }\n          const response = await fetch(`http://localhost:8000/api/${url}`, {\n            method: 'POST',\n            headers: {\n              'Content-type': 'application/json'\n            },\n            body: JSON.stringify({\n              email: this.email,\n              password: this.password\n            })\n          });\n          const data = await response.json();\n          if (response.ok) {\n            if (this.isLogin) {\n              sessionStorage.setItem('token', data.data);\n              window.location.reload();\n            } else {\n              this.signIn()\n              this.showMessageLabel = true;\n              this.messageLabel = 'Cadastro realizado com sucesso!';\n              this.isDisabled = false;\n            }\n          } else {\n            this.showMessageLabel = true;\n            this.messageLabel = data.message;\n          }\n        } catch (error) {\n          console.error(error);\n        }\n    }\n  }\n};\n</script>\n\n<style>\n  body {\n    margin: 0;\n    padding: 0;\n    background-color: rgba(255, 255, 255, 0.5);\n    background-image: url(\"../assets/bg_app.jpg\");\n    background-size: cover;\n    background-position: center;\n  }\n  .login-form {\n    background-color: #fff;\n  }\n  .login-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 80vh;\n  }\n  .error-alert {\n    background-color: #f8d7da;\n    color: #721c24;\n    padding: 10px;\n    border: 1px solid #f5c6cb;\n    border-radius: 5px;\n    text-align: center;\n  }\n  .error-alert p {\n    font-size: 14px;\n    margin: 0;\n  }\n  .login-form {\n    width: 300px;\n    padding: 20px;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n  }\n  .login-form p {\n    font-size: 21px;\n    margin: 0;\n    text-align: center;\n  }\n  .form-group {\n    margin-bottom: 15px;\n  }\n  label {\n    display: block;\n    margin-bottom: 5px;\n  }\n  input[type=\"email\"],\n  input[type=\"password\"] {\n    width: 100%;\n    padding: 8px;\n    border: 1px solid #ccc;\n    border-radius: 3px;\n  }\n  button {\n    width: 100%;\n    padding: 10px;\n    background-color: #007bff;\n    color: #fff;\n    border: none;\n    border-radius: 3px;\n    cursor: pointer;\n  }\n  button:hover {\n    background-color: #0056b3;\n  }\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}